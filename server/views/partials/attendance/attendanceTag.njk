{% from "govuk/components/tag/macro.njk" import govukTag %}

{% set attendanceTags = {
  SICK: {
    text: "Sick",
    classes: "govuk-tag--red"
  },
  CLASH: {
    text: "Clash",
    classes: "govuk-tag--red"
  },
  ATTENDED: {
    text: "Attended",
    classes: "govuk-tag--green"
  },
  CANCELLED: {
    text: "Cancelled",
    classes: "govuk-tag--blue"
  },
  NOT_REQUIRED: {
    text: "Not required",
    classes: "govuk-tag--red"
  },
  SUSPENDED: {
    text: "Suspended",
    classes: "govuk-tag--red"
  },
  REFUSED: {
    text: "Refused",
    classes: "govuk-tag--red"
  },
  REST: {
    text: "Rest day",
    classes: "govuk-tag--red"
  },
  OTHER: {
    text: "Other absence",
    classes: "govuk-tag--red"
  }
} %}


{% macro attendanceTag(status, code) %}
    {% if status %}
      {% if status === 'COMPLETED' %}
          {{ govukTag(attendanceTags[code]) }}
      {% else %}
        Not recorded {{ "yet" if attendance.editable }}
      {% endif %}
    {% else %}
      -
    {% endif %}
{% endmacro %}
