{% from "govuk/components/tag/macro.njk" import govukTag %}

{% set statusColours = {
  ABS: "govuk-tag--yellow",
  ACCAB: "govuk-tag--yellow",
  ATT: "govuk-tag--green",
  CANC: "govuk-tag--yellow",
  NREQ: "govuk-tag--yellow",
  SUS: "govuk-tag--yellow",
  UNACAB: "govuk-tag--red",
  REST: "govuk-tag--yellow"
} %}

{% macro attendanceTag(attendance) %}
    {% if attendance.status === 'COMPLETED' %}
      {{ govukTag({
          text: attendance.attendanceReason.description,
          classes: statusColours[attendance.attendanceReason.code]
      }) }}
    {% elseif attendance.status === 'CANCELLED' %}
      {{ govukTag({
          text: "Cancelled",
          classes: "govuk-tag--red"
      }) }}
    {% else %}
      Not recorded yet
    {% endif %}
{% endmacro %}