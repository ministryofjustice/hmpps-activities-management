{% extends "layout.njk" %}

{% from "govuk/components/panel/macro.njk" import govukPanel %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}

{% set pageTitle = "Appointments Management - Create Single Appointment - Confirmation" %}
{% set pageId = 'appointments-create-single-confirmation-page' %}

{% block content %}
    <div class="govuk-grid-row">
        <div class="govuk-grid-column-two-thirds">
            {{ govukPanel({
                titleText: "Appointment created"
            }) }}
            <p class="govuk-body" data-qa="message">
                You have successfully created an appointment for {{ session.createSingleAppointmentJourney.prisoner.name | toTitleCase }}
                {% if session.createSingleAppointmentJourney.repeat == 'yes' %}
                   starting on {{ startDate | formatDate('EEEE d MMMM yyyy') }}.
                   It will repeat {{ ("every weekday (Monday to Friday)" if session.createSingleAppointmentJourney.repeatPeriod == 'weekday') +
                                     ("daily (includes weekends)" if session.createSingleAppointmentJourney.repeatPeriod == 'daily') +
                                     ("weekly" if session.createSingleAppointmentJourney.repeatPeriod == 'weekly') +
                                     ("fortnightly" if session.createSingleAppointmentJourney.repeatPeriod == 'fortnightly') +
                                     ("monthly" if session.createSingleAppointmentJourney.repeatPeriod == 'monthly') }}
                    for {{ session.createSingleAppointmentJourney.repeatCount }}
                    {% if session.createSingleAppointmentJourney.repeatCount == 1 %}
                        occurrence
                    {% else %}
                        occurrences
                    {% endif %}
                {% else %}
                    on {{ startDate | formatDate('EEEE d MMMM yyyy') }}.
                {% endif %}
            </p>

            <h2 class="govuk-heading-m">What you can do next</h2>
            <p class="govuk-body">
                <a href="/appointments/create-single/start" class="govuk-link govuk-link--no-visited-state" data-qa="create-another-link">Create another appointment</a>
            </p>
            <p class="govuk-body">
                <a href="/appointments/{{ id }}" class="govuk-link govuk-link--no-visited-state" data-qa="view-appointment-link">View and edit appointment details</a>
            </p>
        </div>
    </div>
{% endblock %}
